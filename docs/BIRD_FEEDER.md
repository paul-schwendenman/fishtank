# Bird Feeder â€” Scene Spec

A cozy backyard scene viewed from a window. Multiple feeding stations â€” a tube feeder, platform feeder, suet cage, jelly station, and bird bath â€” attract a wide variety of bird species. Birds arrive from off-screen, visit their preferred feeders, eat, splash, hop between perches, and fly off. The rhythm of arrival, feeding, and departure is the heartbeat of the scene.

**Mood:** Homey, gentle, familiar. Like watching birds from your kitchen window on a quiet morning.

---

## Visual Composition

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â˜          â˜                            â”‚
â”‚    â˜                              â˜                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ distant treeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                          â”‚
â”‚        ğŸŒ³                          ğŸŒ³                    â”‚
â”‚       / jelly \                  / branch \              â”‚
â”‚      / station  \              /  perches  \             â”‚
â”‚     |  (trunk)   |            |  suet cage  |            â”‚
â”‚                                                          â”‚
â”‚      platform        bird         tube                   â”‚
â”‚      feeder          bath         feeder                 â”‚
â”‚        |              ğŸ›            |                    â”‚
â”‚  â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€ fence â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€               â”‚
â”‚     doves, juncos, robins on ground                      â”‚
â”‚  â–‘â–‘â–‘â–‘ foreground grass swaying â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layers (back to front)

1. **Sky** â€” Soft gradient from pale blue at top to warm white near the horizon. Morning light feel â€” diffuse, gentle.
2. **Clouds** â€” Soft cumulus shapes drifting slowly at different speeds and depths.
3. **Distant treeline** â€” Dark silhouettes along the horizon, muted blue-green.
4. **Backyard (back)** â€” Lawn area, lighter green to suggest distance.
5. **Left tree** â€” Large tree on the left third. Jelly/oriole station hangs from a branch. Woodpeckers and nuthatches climb the trunk.
6. **Right tree** â€” Large tree on the right third. Suet cage mounted on the trunk. Multiple branch perch points at varying heights.
7. **Feeding stations** â€” Platform feeder on a post (center-left), tube feeder on a shepherd's hook (center-right), bird bath on the ground (center).
8. **Fence** â€” Simple wooden post-and-rail fence across the mid-ground, behind the feeding area.
9. **Ground area** â€” Grass below the feeders with scattered seed, fallen shells. Ground-feeding birds forage here.
10. **Foreground grass** â€” Swaying blades occluding the bottom edge, framing the scene.

### Color Palette

- Soft morning sky blues and warm whites
- Rich lawn greens (varied â€” deep shade under trees, bright in open areas)
- Warm wood tones for fence, platform feeder, tree trunks
- Birds are the focal point â€” bold reds, vivid blues, bright yellows and oranges
- Scattered seed is warm tan/grey, jelly is deep purple, orange halves are bright
- Bird bath is soft grey stone with blue-tinted water

---

## Feeding Stations

### Tube Seed Feeder

- **Visual:** Clear cylinder showing seed level inside, metal cap and base, 4 small perch pegs with seed ports
- **Placement:** Hanging from a shepherd's hook (curved metal pole), center-right
- **Capacity:** 4 perch spots
- **Visitors:** Chickadees, titmice, nuthatches, goldfinches, house finches
- **Behavior:** Small birds cling to pegs and pick out individual seeds. Goldfinches may hang at angles.

### Platform Feeder

- **Visual:** Flat wooden tray with low rim, on a wooden post. Seed scattered across the surface.
- **Placement:** On a pole, center-left
- **Capacity:** 3â€“4 spots
- **Visitors:** Cardinals, blue jays, juncos, mourning doves, house finches
- **Behavior:** Birds land on the edge, hop to the center, peck at seeds. Larger birds dominate.

### Suet Cage

- **Visual:** Wire mesh cage holding a tan/white suet block, mounted flat against tree trunk
- **Placement:** Right tree trunk, mid-height
- **Capacity:** 1â€“2 spots (one on cage, one waiting on trunk nearby)
- **Visitors:** Downy woodpecker, red-bellied woodpecker, nuthatches, chickadees, Carolina wren
- **Behavior:** Birds cling to the cage vertically, peck at the suet. Woodpeckers brace with stiff tail.

### Jelly & Fruit Station

- **Visual:** Small dish of purple jelly on a platform with orange halves impaled on pegs. Bright orange hardware/hangar (attracts orioles).
- **Placement:** Hanging from a branch on the left tree
- **Capacity:** 2 spots
- **Visitors:** Baltimore oriole, red-bellied woodpecker, house finch
- **Behavior:** Orioles perch and dip beak into jelly. Vivid purple on the bright orange beak is a nice visual detail.

### Bird Bath

- **Visual:** Stone pedestal bowl, slightly rough texture, shallow water with subtle shimmer/reflection. Water ripples when birds splash.
- **Placement:** On the ground, center of the scene
- **Capacity:** 3 spots on the rim, 1 in the water
- **Visitors:** Robins (enthusiastic bathers), blue jays, orioles, all species occasionally
- **Behavior details:**
  - Birds land on the rim, look around cautiously
  - Step into the shallow water
  - Dip and flick wings â€” water droplets fly outward (small particle effect)
  - Shake off on the rim, ruffling feathers
  - Fly to a nearby branch to preen
  - Robins splash dramatically â€” they're the star bathers

---

## Bird Species

### Bold / Large â€” The Scene-Stealers

| Species | Look | Size | Feeders | Personality |
|---------|------|------|---------|-------------|
| **Northern Cardinal** (M) | Bright red body, tall pointed crest, black face mask, orange-red beak | Medium | Platform, ground | Bold; arrives as a pair with female |
| **Northern Cardinal** (F) | Warm brown with red tints on crest/wings/tail, orange-red beak | Medium | Platform, ground | Stays near male, subtler but distinctive |
| **Blue Jay** | Bright blue back/crest/tail, white chest, black necklace, bold pattern | Medium-large | Platform, suet, bath | Pushy â€” small birds scatter when it arrives |
| **Baltimore Oriole** | Vivid orange body, black head and wings, white wing bars | Medium | Jelly station, bath | Flashy, drawn specifically to the orange feeder hardware |
| **Mourning Dove** | Soft tan/grey, plump rounded body, tiny head, long pointed tail | Medium | Ground, platform | Ground feeder, slow deliberate walk, head-bob with each step |

### Medium â€” Regular Visitors

| Species | Look | Size | Feeders | Personality |
|---------|------|------|---------|-------------|
| **Downy Woodpecker** | Black and white barred wings, white back, red nape spot (M only) | Small-med | Suet, trunk | Clings vertically to suet cage, taps rhythmically, hitches up tree trunk |
| **Red-bellied Woodpecker** | Zebra-striped black/white back, red cap from nape to bill, pale belly | Medium | Suet, jelly | Larger woodpecker, bolder, sometimes visits the jelly station |
| **American Robin** | Grey-brown above, warm orange-red breast, yellow beak | Medium | Bath, ground | Loves bathing â€” splashes enthusiastically; hops on ground pulling worms |

### Small â€” The Busy Ones

| Species | Look | Size | Feeders | Personality |
|---------|------|------|---------|-------------|
| **Black-capped Chickadee** | Black cap and bib, white cheeks, grey back, buffy sides | Small | Tube, suet, branches | Grab-and-go: snatches one seed, flies to a branch to eat, returns for another |
| **Tufted Titmouse** | Grey above, white below, small pointed crest, big dark eyes, peach flanks | Small | Tube, suet | Similar to chickadee but slightly bolder, hangs upside down sometimes |
| **White-breasted Nuthatch** | Blue-grey back, white face and breast, black cap, long bill | Small | Tube, suet, trunk | Climbs tree trunk head-first downward â€” unique posture. Quick feeder visits. |
| **American Goldfinch** | Bright lemon-yellow body, black forehead and wings, white wing bars | Small | Tube feeder | Gregarious â€” 2â€“3 on the tube feeder at once. Undulating flight path (dip-flap-dip). |
| **Dark-eyed Junco** | Dark slate-grey hood and back, white belly, pink bill, white outer tail feathers | Small | Ground, platform | Ground specialist â€” hops and scratches in leaf litter beneath feeders |
| **Carolina Wren** | Warm russet-brown above, buffy below, bold white eyebrow stripe, upturned tail | Small | Suet | Quick visitor, tail always cocked upward at 45Â°, energetic |
| **House Finch** | Male: rosy red head/chest on brown-streaked body. Female: plain brown-streaked | Small | Tube, platform, jelly | Common, sociable, often in small groups |

---

## Bird-to-Feeder Matrix

```
                      Tube  Platform  Suet  Jelly  Bath  Ground  Branch/Trunk
Cardinal (M/F)          Â·      âœ“       Â·      Â·      Â·      âœ“        âœ“
Blue Jay                Â·      âœ“       âœ“      Â·      âœ“      Â·        âœ“
Baltimore Oriole        Â·      Â·       Â·      âœ“      âœ“      Â·        âœ“
Mourning Dove           Â·      âœ“       Â·      Â·      Â·      âœ“        Â·
Downy Woodpecker        Â·      Â·       âœ“      Â·      Â·      Â·        âœ“ (trunk)
Red-bellied WP          Â·      Â·       âœ“      âœ“      Â·      Â·        âœ“ (trunk)
Robin                   Â·      Â·       Â·      Â·      âœ“      âœ“        âœ“
Chickadee               âœ“      Â·       âœ“      Â·      Â·      Â·        âœ“
Titmouse                âœ“      Â·       âœ“      Â·      Â·      Â·        âœ“
Nuthatch                âœ“      Â·       âœ“      Â·      Â·      Â·        âœ“ (trunk)
Goldfinch               âœ“      Â·       Â·      Â·      Â·      Â·        âœ“
Junco                   Â·      âœ“       Â·      Â·      Â·      âœ“        Â·
Carolina Wren           Â·      Â·       âœ“      Â·      Â·      Â·        âœ“
House Finch             âœ“      âœ“       Â·      âœ“      Â·      Â·        âœ“
```

---

## Bird Behaviors

### States

| State | Duration | Description |
|-------|----------|-------------|
| Approaching | 1â€“3s | Flies in from off-screen edge, gentle arc toward a feeder/tree area |
| Circling | 0â€“2s | Optional brief loop near the target before committing to land |
| Landing | 0.5â€“1s | Decelerates, wings flare, settles onto perch point |
| Perching | 5â€“30s | Idle on branch/feeder, subtle body bob, tail flick, head turns |
| Feeding | 10â€“60s | Pecking at feeder/ground, head lifts between pecks to look around |
| Alert | 2â€“5s | Head snaps up, body still, looks side to side (triggered by jay arrival or randomly) |
| Hopping | 1â€“3s | Small jumps between nearby perch points or along the ground |
| Bathing | 5â€“15s | In bird bath â€” wading, splashing, shaking off (see Bird Bath section) |
| Departing | 1â€“3s | Launches off with wing burst, flies off-screen |

### State Transitions

```
[off-screen] â†’ approaching â†’ circling (optional) â†’ landing â†’ perching
                                                          â†•
                                                      feeding â†” alert
                                                          â†•
                                                       hopping
                                                          â†•
                                                       bathing (if at bath)
                                                          â†“
                                                      departing â†’ [off-screen]
```

### Species-Specific Behaviors

- **Chickadee grab-and-go** â€” Grabs one seed from tube feeder, immediately flies to a nearby branch to eat it (holds seed against branch with foot, pecks it open), then returns for another. Rapid back-and-forth cycle.
- **Blue Jay intimidation** â€” When a Blue Jay lands on the platform feeder, small birds (chickadees, goldfinches, titmice) within a radius scatter to nearby branches. They cautiously return ~10â€“15s after the jay leaves.
- **Mourning Dove ground walk** â€” Walks slowly on the ground beneath feeders with characteristic head-bob on each step. Doesn't hop â€” walks.
- **Woodpecker clinging** â€” Clings vertically to suet cage or tree trunk with stiff tail braced against the surface. Hitches upward in small jumps rather than walking.
- **Nuthatch head-down** â€” Climbs down tree trunk head-first. The only bird that does this â€” visually distinctive.
- **Goldfinch undulating flight** â€” Flight path follows a sine wave (flap-flap-glide dip, flap-flap-glide dip).
- **Cardinal pairs** â€” Male and female arrive together, feed near each other, depart together.
- **Wren tail-up** â€” Tail is always cocked upward at ~45Â°. Quick, energetic movements.
- **Robin bathing** â€” Most enthusiastic bather. Splashes dramatically compared to other species' delicate dipping.

### Feeder Dynamics

- Each feeder has a **capacity** (tube: 4, platform: 3â€“4, suet: 1â€“2, jelly: 2, bath rim: 3)
- Birds check for open spots before committing to land â€” if full, they circle to a nearby branch and wait
- **Pecking order** â€” larger birds get priority. A woodpecker won't be displaced, but a chickadee will hop aside for a nuthatch. Blue Jays displace everyone.
- **Dropped seed** â€” feeding activity at elevated feeders "produces" ground-level foraging opportunities for doves, juncos, and sparrows

---

## Environment Elements

### Trees

- **Left tree** â€” Large deciduous tree on the left third of the scene. Broad canopy with visible branch structure. Jelly station hangs from a mid-height branch. Multiple perch points at various heights.
- **Right tree** â€” Large deciduous tree on the right third. Suet cage mounted flat against the trunk at mid-height. Branch perch points for waiting birds. Nuthatch and woodpeckers use the trunk.
- Trunks have bark texture â€” rough, grey-brown. Canopies are clusters of green leaf shapes with slight variation in shade.

### Fence

- Simple wooden post-and-rail fence running across the mid-ground, behind the feeding area
- Weathered wood tones â€” grey-brown, slightly uneven
- Posts provide additional perch points for birds
- Not a primary feeding area, but birds land here on approach

### Ground

- Green lawn with slight color variation
- Beneath feeders: scattered seed hulls, small tan dots/ovals
- A few wildflower clusters â€” pops of yellow and purple
- Bare dirt patches near the bird bath base

### Sky & Clouds

- Wide gentle sky â€” morning light feel
- 3â€“5 soft cumulus clouds at varying depths, drifting slowly
- No harsh sun â€” diffuse, warm lighting throughout

### Foreground Grass

- Swaying grass blades along the bottom edge
- Frames the scene and occludes bird feet on the ground level
- Gentle sine-wave sway suggesting a light breeze

---

## Perch System

The environment renderer generates and exposes a set of **perch points** that birds can occupy:

```typescript
type PerchType = 'feeder-tube' | 'feeder-platform' | 'feeder-suet' | 'feeder-jelly'
              | 'bath-rim' | 'bath-water'
              | 'branch' | 'trunk' | 'fence' | 'ground';

type PerchPoint = {
  x: number;
  y: number;
  type: PerchType;
  facing?: 'left' | 'right';    // forced facing direction (e.g., trunk-mounted)
  occupied: boolean;
};
```

Birds choose a free perch point when deciding where to land. The scene manages occupancy â€” similar to how Frogs claim lily pads in the Koi Pond scene.

Ground-feeding birds (doves, juncos) don't claim fixed perch points â€” they wander freely within the ground area beneath feeders.

---

## Animation Details

### Flight

- **Normal flight** â€” Gentle flapping, body angled slightly upward, smooth arc trajectory
- **Goldfinch flight** â€” Distinctive undulating path: flap-flap-glide (rise), flap-flap-glide (rise), with dips in between
- **Landing** â€” Wings spread wide, body tilts back, legs extend forward, decelerates over 0.5s
- **Takeoff** â€” Quick downward crouch, then burst upward with rapid wing beats, accelerating off-screen
- **Wing flap** â€” 2â€“3 key positions cycled (up, mid, down). Speed varies by species â€” small birds flap faster.

### Perched

- Subtle body bob â€” gentle rhythmic up-down movement
- Tail flick â€” quick downward flick every few seconds
- Head turns â€” bird looks left, pauses, looks right
- Alert pose â€” body straightens, head up, still

### Feeding

- Pecking â€” head dips down to feeder/ground surface, quick motion, head lifts
- Chickadee seed-hold â€” on branch, foot grips seed against branch, head pecks downward
- Woodpecker tapping â€” quick repeated head strikes at suet, body stays still

### Bird Bath Splash

- Particle effect: 5â€“10 small water droplet particles fly outward and arc downward
- Water surface ripples radiate outward from the bird
- Bigger splash for robins, delicate dip for smaller birds

### Grass & Wind

- Foreground grass sways in sine wave with per-blade phase offset
- Subtle breeze ripple propagates across the lawn area

---

## Entity Counts

| Category | Count | Notes |
|----------|-------|-------|
| Total birds on screen | 8â€“12 | Mix of species, cycling in and out |
| At feeders/bath | 4â€“6 | Spread across all stations |
| In flight | 1â€“3 | Approaching or departing at any time |
| On ground | 2â€“3 | Doves, juncos, robins foraging |
| On branches/trunk | 2â€“4 | Waiting, preening, eating (chickadees) |

### Spawn & Cycle

- Birds spawn off-screen and fly in. Staggered spawn delays so they arrive one at a time.
- After feeding (30sâ€“2min at a station), birds depart off-screen.
- New birds arrive continuously â€” the scene never feels empty or overcrowded.
- Species mix varies over time â€” not all 14 species on screen at once. 6â€“8 species visible at a time provides good variety without chaos.

---

## Rendering Notes

- **Side-view** perspective â€” birds seen from the side with distinct silhouettes
- Each species has a unique silhouette: crests (cardinal, jay, titmouse), plump body (dove), cocked tail (wren), long bill (nuthatch)
- Perched birds face left or right, occasionally flip direction with a quick hop-turn
- Birds are simple 2D shapes â€” oval body, round head, triangular beak, thin legs â€” but species-specific proportions and color patterns make each recognizable
- **Depth layering:** birds on the ground are in front of the fence; birds in the trees are behind or interleaved depending on y-position
- Seeds on feeders and ground are tiny tan/grey ovals â€” subtle detail
- Suet block shows peck marks over time (cosmetic)
- Bird bath water has a subtle reflective shimmer

---

## Variety Config

Bird varieties are defined as plain config objects:

```typescript
type BirdSize = 'small' | 'medium' | 'large';

interface BirdVariety {
  id: string;
  name: string;
  size: BirdSize;
  bodyColor: string;
  wingColor: string;
  headColor: string;
  breastColor: string;
  beakColor: string;
  accentColor?: string;       // crest, nape spot, etc.
  hasCrest: boolean;
  tailStyle: 'short' | 'medium' | 'long' | 'pointed';
  feeders: PerchType[];       // which feeder types this species visits
  flightStyle: 'normal' | 'undulating' | 'direct';
  personality: 'shy' | 'bold' | 'aggressive';
  pairsWithId?: string;       // for cardinal M/F pairing
  clingsVertical?: boolean;   // woodpeckers, nuthatches
  headDown?: boolean;         // nuthatch trunk posture
  tailCocked?: boolean;       // wren
  grabAndGo?: boolean;        // chickadee behavior
}
```

---

## Stretch Goals

These are not part of the first implementation but would add richness later:

- **Squirrel** â€” Climbs down tree trunk toward the platform feeder. Scares off birds when close. Hangs upside down trying to reach tube feeder, eventually slides off. Comic relief.
- **Hummingbird** â€” Tiny, hovering at a nectar feeder. Iridescent ruby throat. Unique flight behavior (stationary hover, darting).
- **Seasonal variation** â€” Snow on ground/feeders/branches (winter), spring blossoms on trees, fall leaf colors, bare branches.
- **Cat in the window** â€” A cat silhouette in the foreground "window," ears perking up when birds are close. Purely decorative.
- **Time of day shift** â€” Slow golden-hour color transition in the sky over time.

---

## Technical Notes

### Entity Structure

Each bird is an entity with:
- Position (x, y) on screen
- Velocity (vx, vy) â€” varies by species and state
- Variety config (species, colors, size, feeder preferences)
- State machine (approaching, landing, perching, feeding, alert, hopping, bathing, departing)
- Animation state (wing phase, head angle, body bob phase, tail flick timer)
- Target perch point reference (or null if in flight/ground-wandering)

### Scene Orchestration

The scene manages:
- Perch point occupancy across all feeders
- Bird spawning â€” choosing species mix, staggering arrivals
- Blue Jay intimidation radius â€” triggering scatter behavior on nearby small birds
- Cardinal pairing â€” spawning M/F together, keeping them near each other
- Ground feeder area bounds â€” where doves and juncos wander

### Spatial Considerations

- Birds are small-to-medium entities â€” more on screen (8â€“12) than cows but fewer than fish
- Feeder capacity is the main constraint, not spatial collision
- Ground-feeding birds need gentle separation from each other
- Flight paths should arc naturally â€” no straight lines
